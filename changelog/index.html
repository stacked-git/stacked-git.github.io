<!DOCTYPE html>
<html><head>
    <title>
         StGit Changelog &ndash;  Stacked Git
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="stylesheet" href="/css/stgit.css">
    <link rel="stylesheet" href="/css/chroma.css">
</head>
<body>
        <div><header>
  
  <a href="/">
    <img src="/stgit.svg" alt="Stacked Git logo">
  </a>
  
  <h3><a href="/">Stacked Git</a></h3>
  <nav>
    <ul>
      
      <li>
        <a href="/changelog/">
          
          Changelog
          
        </a>
      </li>
      
      <li>
        <a href="/man/">
          
          Man Pages
          
        </a>
      </li>
      
      <li>
        <a href="/guides/">
          
          Guides
          
        </a>
      </li>
      
      <li>
        <a href="/guides/tutorial/">
          
          Tutorial
          
        </a>
      </li>
      
      <li>
        <a href="https://github.com/stacked-git/stgit/">
          
          Repository
          <img src="/github.svg" alt="GitHub logo">
        </a>
      </li>
      
      <li>
        <a href="https://github.com/stacked-git/stgit/issues">
          
          Issue Tracker
          <img src="/github.svg" alt="GitHub logo">
        </a>
      </li>
      
      <li>
        <a href="https://github.com/stacked-git/stgit/releases">
          
          Releases
          <img src="/github.svg" alt="GitHub logo">
        </a>
      </li>
      
      <li>
        <a href="https://groups.google.com/d/forum/stgit">
          
          Forum
          <img src="/ext-link.svg" alt="external link">
        </a>
      </li>
      
    </ul>
  </nav>
</header>
<div>
<main class="changelog-main">
  <h1><a href="/changelog/">StGit Changelog</a></h1>
  
  
  
  
  
  
<h2 id="210-2022-12-12"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.1.0">[2.1.0] 2022-12-12</a></h2>
<h3 id="added">Added</h3>
<ul>
<li>feat: Configurable push conflict policy (<a href="https://github.com/stacked-git/stgit/issues/60">#60</a>)</li>
<li>feat: Add &ndash;committer-date-is-author-date option (<a href="https://github.com/stacked-git/stgit/issues/47">#47</a>)</li>
<li>feat(import): Add &ndash;3way option (<a href="https://github.com/stacked-git/stgit/issues/36">#36</a>)</li>
<li>feat(import): Add &ndash;directory option (<a href="https://github.com/stacked-git/stgit/issues/36">#36</a>)</li>
</ul>
<h3 id="changed">Changed</h3>
<ul>
<li>feat!: Relaxed stack initialization (<a href="https://github.com/stacked-git/stgit/issues/238">#238</a>)</li>
<li>feat!: Only sign stack based on stgit.gpgsign (<a href="https://github.com/stacked-git/stgit/issues/238">#238</a>)</li>
<li>fix!: Allow &ldquo;&mdash;&rdquo; separator in messages (<a href="https://github.com/stacked-git/stgit/issues/243">#243</a>)</li>
<li>feat: More descriptive push conflict message (<a href="https://github.com/stacked-git/stgit/issues/60">#60</a>)</li>
<li>feat: Avoid post-edit commits when no change</li>
<li>chore: Update dependencies to latest versions</li>
</ul>
<h3 id="fixed">Fixed</h3>
<ul>
<li>fix: Improved error message for uninitialized stack</li>
<li>fix: Improve error for re-initialization attempt</li>
<li>fix(prev): Different error message for empty stack</li>
<li>fix: Accept full ref name for branches</li>
<li>fix(zsh): Complete &ndash;edit and &ndash;diff for stg new</li>
</ul>
<h2 id="204-2022-11-30"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.4">[2.0.4] 2022-11-30</a></h2>
<h3 id="changed-1">Changed</h3>
<ul>
<li>docs: Document configuration variables</li>
<li>refactor: Use is-terminal instead of atty</li>
<li>chore: Update Cargo.lock with latest dependencies.</li>
</ul>
<h3 id="fixed-1">Fixed</h3>
<ul>
<li>fix: Don&rsquo;t generate new patch name until after edit (<a href="https://github.com/stacked-git/stgit/issues/239">#239</a>)</li>
<li>fix: Run shell aliases from top-level of work tree</li>
<li>fix: Use GIT_PREFIX in built-in aliases</li>
</ul>
<h2 id="203-2022-11-21"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.3">[2.0.3] 2022-11-21</a></h2>
<h3 id="changed-2">Changed</h3>
<ul>
<li>chore: Update Cargo.lock with latest dependencies.</li>
</ul>
<h3 id="fixed-2">Fixed</h3>
<ul>
<li>fix: improved git version parsing on MacOS</li>
<li>fix: StGit-specific branch config handling</li>
<li>docs: fixed many typos</li>
</ul>
<h2 id="202-2022-11-17"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.2">[2.0.2] 2022-11-17</a></h2>
<h3 id="changed-3">Changed</h3>
<ul>
<li>chore: Update Cargo.lock with latest dependencies.</li>
<li>docs(init): Add long help for <code>stg init</code>.</li>
</ul>
<h3 id="added-1">Added</h3>
<ul>
<li>feat: Enable basic support for <code>extensions.worktreeconfig</code> to unblock
sparse checkout with partial clone (<a href="https://github.com/stacked-git/stgit/issues/195">#195</a>).</li>
</ul>
<h3 id="fixed-3">Fixed</h3>
<ul>
<li>docs: More inter-command links</li>
<li>docs: Normalize quoting</li>
</ul>
<h2 id="201-2022-11-07"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.1">[2.0.1] 2022-11-07</a></h2>
<h3 id="changed-4">Changed</h3>
<ul>
<li>chore: Update to clap 4.0.22</li>
</ul>
<h3 id="fixed-4">Fixed</h3>
<ul>
<li>docs(readme): Clarify static versus dynamic linking (<a href="https://github.com/stacked-git/stgit/issues/230">#230</a>)</li>
<li>build: Improve Documentation build performance (<a href="https://github.com/stacked-git/stgit/issues/229">#229</a>)</li>
</ul>
<h2 id="200-2022-11-06"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.0">[2.0.0] 2022-11-06</a></h2>
<h3 id="removed">Removed</h3>
<ul>
<li><code>stg clone</code> is removed. Use <code>git clone</code> and <code>stg init</code> instead.</li>
<li><code>stg mail</code> is replaced with <code>stg email format</code> and <code>stg email send</code>.</li>
<li><code>stg refresh --spill</code> is replaced with dedicated <code>stg spill</code> command.</li>
<li><code>stg edit</code> no longer accepts <code>-O/--diff-opts</code>. Custom diff options is
in conflict with editable diffs since many (most?) diff options cause
the diff to no long be applicable.</li>
<li><code>stg files</code> no longer accepts <code>-O/--diff-opts</code>. This option was of
marginal value since it only had a possible side effect when <code>--stat</code>
was being used.</li>
</ul>
<h3 id="added-2">Added</h3>
<ul>
<li><code>stg id</code> now accepts the <code>-b/--branch</code> option.</li>
<li><code>stg completion</code> command provides runtime support for shell
completions.</li>
<li><code>stg completion bash</code> generates bash shell completion script.</li>
<li><code>stg completion fish</code> generates fish shell completion script.</li>
<li><code>stg completion zsh</code> outputs zsh shell completion script.</li>
<li><code>stg completion list</code> shows StGit commands and aliases and is used at
completion-time by shell completion scripts.</li>
<li><code>stg completion man</code> generates man pages in asciidoc format.</li>
<li><code>stg email format</code> wraps <code>git format-patch</code> and provides a mechanism
to generate patch emails and optional cover letter in mbox format.</li>
<li><code>stg email send</code> wraps <code>git send-email</code> and allows sending patch
emails, either from files generated by <code>stg email format</code> or by
specifying patches directly.</li>
<li><code>stg new --refresh</code> allows a new patch to be refreshed with changes in
one step. The <code>-i/--index</code>, <code>-F/--force</code>, <code>-s/--submodules</code>, and
<code>--no-submodules</code> options from <code>stg refresh</code> are also available to
<code>stg new</code> when using <code>-r/--refresh</code>.</li>
<li><code>stg series</code> gains the <code>-i/--commit-id</code> option to display patches'
commit ids.</li>
<li><code>stg show</code> diff output can now be limited to certain paths by
specifying path limits on the command line.</li>
<li><code>stg spill</code> replaces <code>stg refresh --spill</code>.</li>
<li><code>stg version</code> gains <code>-s/--short</code> flag to show shortened version info.</li>
<li>Added documentation for patch range syntax to stg(1) man page.</li>
<li>Added <code>install-all</code> target to top-level Makefile that installs the
executable, man pages, html pages, and shell completions.</li>
</ul>
<h3 id="changed-5">Changed</h3>
<ul>
<li>StGit is now implemented entirely in Rust instead of Python.</li>
<li>StGit is generally much faster; many commands are up to 4x faster.
There was an emphasis on making informational commands such as <code>stg id</code>, <code>stg series</code>, and <code>stg top</code> as fast as possible to make their use
in interactive contexts (shell prompts, IDE extensions) more
comfortable.</li>
<li>StGit error messages have been updated; many have different, and
hopefully better, wording. Error messages are also use color (when
color is enabled). Scripts relying on exact error messages from StGit
will need to be updated.</li>
<li>StGit output to stdout is generally more terse. Commands that change
the stack such as <code>push</code>, <code>pop</code>, and <code>commit</code>, use sigils to denote
the changes made to the stack. E.g. <code>stg commit p0..p3</code> will output <code>$ p0..p3</code> where the &ldquo;$&rdquo; sigil means that a patch, or patch range, has
been committed. These are all the currently used stack change sigils:
<ul>
<li><code>+</code> patch was pushed</li>
<li><code>-</code> patch was popped</li>
<li><code>&gt;</code> patch became the current topmost patch</li>
<li><code>&amp;</code> patch was updated</li>
<li><code>$</code> patch was committed</li>
<li><code>#</code> patch was deleted</li>
<li><code>@</code> patch was rolled-back</li>
<li><code>!</code> patch was hidden</li>
</ul>
</li>
<li>StGit aliases are now more like Git aliases. Normal aliases refer to
StGit subcommands, but aliases prefixed with &lsquo;!&rsquo; are shell aliases
that may run arbitrary commands. An example normal alias would be <code>git config stgit.alias.list 'series --description --empty'</code>. An example
shell alias would be <code>git config stgit.alias.st '!git status --short'</code>.</li>
<li>Commands such as <code>stg goto</code>, <code>stg push</code>, and <code>stg pop</code> now require
full/correct patch names on the command line and no longer accept
unambiguous patch name prefixes. When an inexact patch name is
provided on the command line, the error message will now suggest
similar valid patch names.</li>
<li>Additional template search paths were added. In addition to looking
for template files in .git/, also look in
<code>$XDG_CONFIG_HOME/stgit/templates/</code> and <code>$HOME/.stgit/templates</code>. This
search strategy is consistent with how git looks for the global config
file.</li>
<li>The new <code>--signoff</code> patch edit option supersedes the deprecated
<code>--sign</code> and <code>--sign-by</code> options. <code>--signoff</code> without its optional
value does the same thing as <code>--sign</code>, while <code>--signoff=&lt;value&gt;</code> does
the same thing as <code>--sign-by=&lt;value&gt;</code>.</li>
<li>The <code>--ack</code> and <code>--review</code> patch edit options now optionally take a
value. The <code>--ack-by</code> and <code>--review-by</code> options are deprecated.</li>
<li><code>stg branch</code> output is now generally less verbose.</li>
<li><code>stg branch --describe</code> replaces <code>stg branch --description</code>. The
<code>--description</code> subcommand remains supported as a hidden alias to
<code>--describe</code>, but the description string must now be provided as its
own argument; i.e. <code>--description=&quot;description string&quot;</code> is no longer
supported.</li>
<li><code>stg branch --list</code> now produces colorized output. The <code>--color</code>
option or <code>NO_COLOR</code> environment variable may be used to affect this
behavior.</li>
<li><code>stg branch --rename</code> now supports renaming regular git branches in
addition to StGit-enabled branches.</li>
<li><code>stg clean</code> now uses <code>-A</code> and <code>-U</code> short options for <code>--applied</code> and
<code>--unapplied</code> instead of <code>-a</code> and <code>-u</code>. This is done for consistency
with <code>stg series</code> and <code>stg show</code>.</li>
<li><code>stg import</code> now only recognizes compressed patches by their file
extension (<code>.bz2</code> or <code>.gz</code>) and no longer proactively attempts to
decompress using all known decompressors.</li>
<li><code>stg import</code> support for compressed input files is selectable at
compile time using the <code>import-compressed</code> feature.</li>
<li><code>stg import</code> support for importing from a URL is selectable at compile
time using the <code>import-url</code> feature. <strong>N.B.</strong> there is a measurable
runtime performance impact of building with <code>import-url</code> due to the
unconditional, pre-main initialization of <code>curl</code> which affects <strong>all</strong>
<code>stg</code> commands.</li>
<li><code>stg log</code> now colorizes output by default. The <code>--color</code> option or
<code>NO_COLOR</code> environment variable may be used to affect this behavior.</li>
<li><code>stgit.new.verbose</code> changed to <code>stgit.edit.verbose</code> and now also
affects edit behavior for <code>edit</code>, <code>refresh</code>, and <code>squash</code> along with
<code>new</code>.</li>
<li><code>stg new</code> now accepts <code>-e/--edit</code> and <code>-d/--diff</code> instead of
<code>-v/--verbose</code></li>
<li><code>stg pick</code> now allows a mix of commits and patches to be picked
whereas previously only a single commit xor multiple patches could be
picked.</li>
<li><code>stg pick</code> now performs a single stack transaction for all the picked
patches/commits instead of one transaction per pick.</li>
<li><code>stg push</code> now attempts to perform three-way merges, which may improve
conflict resolution in some cases. This feature is enabled by default
when git &gt;= 2.32.0 is detected.</li>
<li><code>stg rebase --interactive</code> the &ldquo;squash&rdquo; and &ldquo;fixup&rdquo; instructions may
no longer be applied to the first patch in the instruction list. The
stated semantics of both &ldquo;squash&rdquo; and &ldquo;fixup&rdquo; is that they squash the
labeled patch with the preceding patch, which is not possible/valid
when there is no preceding patch.</li>
<li><code>stg refresh</code> no longer has a <code>--spill</code> flag. Use <code>stg spill</code> instead.</li>
<li><code>stg series</code> has updated colorized output.</li>
<li><code>stg series</code> now requires patch range arguments to be both in-order
and contiguous. Constraining patch ranges in this manner ensures that
the output from <code>stg series</code> is always a valid/correct view of a
subset of the series.</li>
<li><code>stg show</code> diff output respects the <code>--color</code> option.</li>
<li><code>stg squash</code> now allows the full suite of patch edit options,
including <code>-d/--diff</code>. Previously only a few message-related options
were available.</li>
<li><code>stg version</code> now displays copyright and license statements.</li>
</ul>
<h3 id="fixed-5">Fixed</h3>
<ul>
<li><code>stg branch --create</code> inherits the current branch&rsquo;s remote branch
configuration, if available. The Python implementation had an apparent
bug that prevented inheriting the remote branch configuration when
creating from the current branch.</li>
<li>Avoid case insensitive patch name collisions. On operating systems
with case-insensitive paths, patch names that only differ by case lead
to patch reference collisions. StGit now ensures that patch names are
distinct under case insensitive comparisons.</li>
<li><code>stg pull</code> and <code>stg rebase</code> record updated stack state instead of
deferring until the next stack-modifying command to do so.</li>
</ul>
<h3 id="changed-since-200-rc2">Changed since 2.0.0-rc.2</h3>
<h4 id="changed-6">Changed</h4>
<ul>
<li>chore: Update Cargo.lock</li>
</ul>
<h4 id="fixed-6">Fixed</h4>
<ul>
<li>fix(zsh): Repair broken completion of &ndash;git-opt</li>
<li>fix(zsh): Add missing <code>stg email send --branch</code></li>
<li>fix(email): Send using &ndash;branch option</li>
<li>fix: Avoid duplicate signoff with stgit.autosign</li>
<li>fix: Do not use 3way for merged checks</li>
</ul>
<h2 id="200-rc2-2022-10-23"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.0-rc.2">[2.0.0-rc.2] 2022-10-23</a></h2>
<h3 id="changed-7">Changed</h3>
<ul>
<li>The <code>--diff-opts</code> option is renamed to <code>--diff-opt</code>. <code>--diff-opts</code>
remains available as an alias.</li>
<li>The <code>--diff-opt</code> option no longer allows multiple git options per
occurrence. This allows git diff options with spaces in their values.</li>
<li>The <code>--git-opts</code> option for <code>stg email format</code> and <code>stg email send</code> is
renamed <code>--git-opt</code>.</li>
<li>The <code>--git-opt</code> option no longer allows multiple git options per
occurrence. This allows git options with spaces in their values.</li>
<li>Zsh completion for <code>--diff-opt</code> and <code>--git-opt</code> leverage the
full-featured git completion capability.</li>
</ul>
<h3 id="fixed-7">Fixed</h3>
<ul>
<li>Repair check for modifications to stack by external tools.</li>
<li><code>stg pull</code> and <code>stg rebase</code> record updated stack state instead of
deferring until the next stack-modifying command to do so.</li>
<li>Improve patch application with <code>git apply --3way</code> when pushing` (<a href="https://github.com/stacked-git/stgit/issues/225">#225</a>)</li>
<li>Zsh completion for <code>--diff-opt</code> accommodates multiple occurrences</li>
</ul>
<h2 id="200-rc1-2022-09-30"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.0-rc.1">[2.0.0-rc.1] 2022-09-30</a></h2>
<h3 id="added-3">Added</h3>
<ul>
<li>Added <code>--annotate</code> flag to <code>stg email send</code>.</li>
<li>Added <code>-p</code>/<code>--patch</code> option to <code>stg show</code> as alternative way to select patch
ranges (<a href="https://github.com/stacked-git/stgit/issues/216">#216</a>).</li>
<li>Added <code>-n</code>/<code>--name</code> option to <code>stg new</code> as alternative way to specify new
patch name (<a href="https://github.com/stacked-git/stgit/issues/216">#216</a>).</li>
</ul>
<h3 id="changed-8">Changed</h3>
<ul>
<li>Update <code>git2</code> to 0.15.0, which may further help compatibility with
sparse checkouts and multiple worktrees (<a href="https://github.com/stacked-git/stgit/issues/195">#195</a>).</li>
<li>Update to <code>clap</code> 4.0, which changes the help formatting and coloring.</li>
<li>Update other dependencies to latest versions in Cargo.lock.</li>
<li>No longer depend on <code>lazy_static</code> crate.</li>
<li>Use <code>std::thread::scope</code> instead of custom mechanism. This brings the
total number of uses of <code>unsafe</code> in StGit to zero.</li>
<li>Minimum rustc requirement is set to 1.63.0.</li>
<li>The &lsquo;$&rsquo; sigil used for committed patches is now yellow instead of
white.</li>
<li>Patch names beginning with a hyphen &lsquo;-&rsquo; may be disambiguated from command
line options by escaping the leading &lsquo;-&rsquo; with a backslash.</li>
<li><code>stg email format</code> and <code>stg email send</code> now use <code>-G</code>/<code>--git-opts</code> to pass
additional options to <code>git format-patch</code> and <code>git send-email</code>.</li>
<li>Patch name arguments to <code>stg email format</code> and <code>stg email-send</code> can now be
placed after a <code>--</code> separator (<a href="https://github.com/stacked-git/stgit/issues/216">#216</a>).</li>
<li>Update top-level usage help for <code>stg</code>.</li>
</ul>
<h3 id="fixed-8">Fixed</h3>
<ul>
<li>Various errors that may occur when executing a stack transaction are
now handled more robustly such that the changes from the transaction
are rolled-back so that the stack, repository, and worktree are all in
a consistent state (<a href="https://github.com/stacked-git/stgit/issues/205">#205</a>).</li>
<li>The <code>stg uncommit -h</code> usage indentation is repaired.</li>
<li>The <code>stg float</code> usage now shows the two distinct usage modes.</li>
<li><code>stg squash --name</code> allows patch names with leading &lsquo;-&rsquo;.</li>
<li><code>stg diff --range</code> allows patch names and ranges with leading &lsquo;-&rsquo;.</li>
<li>Fix some pre-indented paragraphs in help/about strings.</li>
<li>Zsh completion for <code>stg edit</code> incorrectly included -O/&ndash;diff-opts.</li>
<li>Zsh completion for <code>stg files</code> incorrectly included -O/&ndash;diff-opts.</li>
</ul>
<h2 id="200-beta3-2022-08-28"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.0-beta.3">[2.0.0-beta.3] 2022-08-28</a></h2>
<h3 id="added-4">Added</h3>
<ul>
<li>Add install targets for <code>contrib/</code> directory.</li>
</ul>
<h3 id="changed-9">Changed</h3>
<ul>
<li>Use <code>git</code> executable instead of <code>libgit2</code> for all status and index
operations to improve compatibility with sparse index checkouts
(<a href="https://github.com/stacked-git/stgit/issues/195">#195</a>).</li>
<li>Show commit hash in <code>stg version</code> output when not built from tag.</li>
<li>Use <code>cargo --locked</code> consistently in Makefiles.</li>
<li>Use &ldquo;patch&rdquo; extension in temp file name when editing a patch with a
diff.</li>
<li>Updated transient dependencies in Cargo.lock.</li>
</ul>
<h3 id="fixed-9">Fixed</h3>
<ul>
<li>Repair <code>stg branch --describe</code> panic when run without arguments</li>
<li>Repair zsh completions for <code>git branch</code></li>
<li>Repair <code>stgit.el</code> to use compatible <code>stg show</code> commands (<a href="https://github.com/stacked-git/stgit/issues/202">#202</a>).</li>
<li>Repair <code>stg uncommit --to</code> to work with annotated tags (<a href="https://github.com/stacked-git/stgit/issues/203">#203</a>).</li>
<li>Repair <code>make install</code> to not install cargo tracking files.</li>
</ul>
<h2 id="200-beta2-2022-08-05"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.0-beta.2">[2.0.0-beta.2] 2022-08-05</a></h2>
<h3 id="changed-10">Changed</h3>
<ul>
<li>Improved error when push conflicts with untracked files (<a href="https://github.com/stacked-git/stgit/issues/193">#193</a>)</li>
<li>Removed a few transitive dependencies by turning-off features in bstr
and chrono.</li>
<li>Update Cargo.lock with latest dependencies</li>
<li>Update to clap 3.2 and only use non-deprecated interfaces</li>
</ul>
<h3 id="fixed-10">Fixed</h3>
<ul>
<li>Repair <code>stg spill</code> when spilling newly added files and using path
limits.</li>
</ul>
<h2 id="200-beta1-2022-07-28"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.0-beta.1">[2.0.0-beta.1] 2022-07-28</a></h2>
<h3 id="removed-1">Removed</h3>
<ul>
<li>Removed Python implementation of StGit.</li>
</ul>
<h3 id="added-5">Added</h3>
<ul>
<li>Man page generation in asciidoc format with <code>stg completion man</code>. This
was needed for feature parity with the Python implementation.</li>
<li>Added documentation for patch range syntax to stg(1) man page.</li>
<li>Added <code>install-all</code> target to top-level Makefile that installs the
executable, man pages, html pages, and shell completions.</li>
</ul>
<h3 id="changed-11">Changed</h3>
<ul>
<li>Additional template search paths were added. In addition to looking
for template files in .git/, also look in
<code>$XDG_CONFIG_HOME/stgit/templates/</code> and <code>$HOME/.stgit/templates</code>. This
search strategy is consistent with how git looks for the global config
file.</li>
<li>Makefile targets are updated such that they are all applicable to the
Rust implementation.</li>
<li>Argument value names are now all lowercase in help and man pages.</li>
<li>Updated Cargo.lock with latest versions of dependencies.</li>
<li>Release checklist is updated for Rust implementation.</li>
</ul>
<h3 id="fixed-11">Fixed</h3>
<ul>
<li>Minor typo fixes in help strings</li>
<li>Improved documentation for top-level <code>stg</code> options.</li>
<li>Improve error message in edge case of attempting to push a hidden
patch by name when there are no unapplied patches.</li>
</ul>
<h2 id="200-alpha2-2022-07-07"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.0-alpha.2">[2.0.0-alpha.2] 2022-07-07</a></h2>
<h3 id="added-6">Added</h3>
<ul>
<li><code>stg email format</code> wraps <code>git format-patch</code> and provides a mechanism
to generate patch emails and optional cover letter in mbox format.</li>
<li><code>stg email send</code> wraps <code>git send-email</code> and allows sending patch
emails, either from files generated by <code>stg email format</code> or by
specifying patches directly.</li>
</ul>
<h3 id="changed-12">Changed</h3>
<ul>
<li>Bash completions for shell aliases now fallback to filename
completions (<a href="https://github.com/stacked-git/stgit/issues/191">#191</a>).</li>
<li>Help options listings now ensure &ndash;color and &ndash;help are shown last.</li>
<li>Various zsh completion improvements:
<ul>
<li>Add descriptions for &ndash;color values</li>
<li>Complete -O/&ndash;diff-opts values (using <code>git diff-tree --git-completion-helper</code>)</li>
<li>Comprehend <code>stg -C &lt;dir&gt;</code> options</li>
<li>Improved/corrected alias expansion</li>
<li>Improved error messages when completion is attempted outside git
repo and/or StGit-initialized branch</li>
<li>Patch name completions now look and feel like output from <code>stg series</code></li>
<li>Complete patch range syntax (&lsquo;patch0..patchN&rsquo;) for all relevant
commands</li>
<li>Completion for <code>stg squash</code> no longer allows duplicate patch name
arguments</li>
<li>Removed completions for removed <code>stg mail</code> command</li>
<li>Completion for <code>stg sink</code> no longer offers hidden patches</li>
<li>Completion for <code>stg rename</code> comprehends second, new patch name
argument</li>
<li>Completion for <code>stg diff --range</code> now works</li>
</ul>
</li>
</ul>
<h3 id="fixed-12">Fixed</h3>
<ul>
<li>Compatibility with git versions prior to 2.35.0 is repaired by
avoiding using <code>git apply --allow-empty</code> (<a href="https://github.com/stacked-git/stgit/issues/192">#192</a>).</li>
<li>Fish completions for -O/&ndash;diff-opts are repaired</li>
</ul>
<h2 id="200-alpha1-2022-06-17"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.0-alpha.1">[2.0.0-alpha.1] 2022-06-17</a></h2>
<h3 id="added-7">Added</h3>
<ul>
<li><code>stg series</code> gains the <code>-i/--commit-id</code> option to display patches&rsquo;
commit ids.</li>
<li><code>stg series</code> colorized output is modified. The main change is that
patch descriptions are no longer yellow.</li>
<li><code>stg version</code> now displays copyright and license statements.</li>
<li><code>stg version</code> gains <code>-s/--short</code> flag to show shortened version info.</li>
<li>The <code>stgit.diff-opts</code> configuration variable is now respected as it
was in the Python implementation.</li>
<li><code>stg completion</code> command provides runtime support for shell completions.</li>
<li><code>stg completion bash</code> generates bash shell completion script.</li>
<li><code>stg completion fish</code> generates fish shell completion script.</li>
<li><code>stg completion zsh</code> outputs zsh shell completion script.</li>
<li><code>stg completion list</code> shows StGit commands and aliases and is used at
completion-time by shell completion scripts.</li>
</ul>
<h3 id="changed-13">Changed</h3>
<ul>
<li>The <code>-O/--diff-opts</code> flag now allows both multiple space separated
opts in one value as well as multiple occurrences of <code>-O/--diff-opts</code>
on the same command line. This behavior is compatible with the Python
implementation.</li>
<li><code>stg series</code> help output splits options into a few sections.</li>
<li>Dependencies are updated to more recent versions in Cargo.lock.</li>
</ul>
<h3 id="fixed-13">Fixed</h3>
<ul>
<li><code>stg edit --set-tree</code> no longer causes the interactive editor to be
implicitly invoked.</li>
<li>Repair build for non-Linux unix targets (including MacOS) and Windows
targets.</li>
<li>Avoid case insensitive patch name collisions. On operating systems
with case-insensitive paths, patch names that only differ by case lead
to patch reference collisions. StGit now ensures that patch names are
distinct under case insensitive comparisons.</li>
<li>Add missing <code>-t</code> short option for <code>--set-tree</code> for <code>stg edit</code>.</li>
<li>Add missing <code>-k</code> short option for <code>--keep</code>.</li>
</ul>
<h2 id="200-alpha0-2022-05-17"><a href="https://github.com/stacked-git/stgit/releases/tag/v2.0.0-alpha.0">[2.0.0-alpha.0] 2022-05-17</a></h2>
<h3 id="removed-2">Removed</h3>
<ul>
<li><code>stg edit</code> no longer accepts <code>-O/--diff-opts</code>. Custom diff options is
in conflict with editable diffs since many (most?) diff options cause
the diff to no long be applicable.</li>
<li><code>stg files</code> no longer accepts <code>-O/--diff-opts</code>. This option was of
marginal value since it only had a possible side effect when <code>--stat</code>
was being used.</li>
<li><code>stg clone</code> is removed (at least for the time being). Use <code>git clone</code>
and <code>stg init</code> instead.</li>
<li><code>stg mail</code> is removed, but will be re-added or replaced prior to the
2.0.0 release.</li>
</ul>
<h3 id="added-8">Added</h3>
<ul>
<li><code>stg new --refresh</code> allows a new patch to be refreshed with changes in
one step. The <code>-i/--index</code>, <code>-F/--force</code>, <code>-s/--submodules</code>, and
<code>--no-submodules</code> options from <code>stg refresh</code> are also available to
<code>stg new</code>.</li>
<li><code>stg id</code> now accepts the <code>-b/--branch</code> option.</li>
<li><code>stg spill</code> replaces <code>stg refresh --spill</code>.</li>
</ul>
<h3 id="changed-14">Changed</h3>
<ul>
<li>StGit aliases are now more like Git aliases. Normal aliases refer to
StGit subcommands, but aliases prefixed with &lsquo;!&rsquo; are shell aliases
that may run arbitrary commands. An example normal alias would be
<code>git config stgit.alias.list 'series --description --empty'</code>. An
example shell alias would be <code>git config stgit.alias.st '!git status --short'</code>.</li>
<li>The <code>--ack</code> and <code>--review</code> options now optionally take a value. The
<code>--ack-by</code> and <code>--review-by</code> options are deprecated.</li>
<li>Commands such as <code>stg goto</code>, <code>stg push</code>, and <code>stg pop</code> now require
full/correct patch names on the command line and no longer accept
unambiguous patch name prefixes. When an inexact patch name is
provided on the command line, the error message will now indicate
similar valid patch names.</li>
<li><code>stg branch</code> output is now generally less verbose.</li>
<li><code>stg branch --describe</code> replaces <code>stg branch --description</code>. The
<code>--description</code> subcommand remains supported as a hidden alias to
<code>--describe</code>, but the description string must now be provided as its
own argument; i.e. <code>--description=&quot;description string&quot;</code> is no longer
supported.</li>
<li><code>stg branch --list</code> now produces colorized output. The <code>--color</code>
option or <code>NO_COLOR</code> environment variable may be used to affect this
behavior.</li>
<li><code>stg branch --rename</code> now supports renaming regular git branches in
addition to StGit-enabled branches.</li>
<li><code>stg clean</code> now uses <code>-A</code> and <code>-U</code> short options for <code>--applied</code> and
<code>--unapplied</code> instead of <code>-a</code> and <code>-u</code>. This is done for consistency
with <code>stg series</code> and <code>stg show</code>.</li>
<li><code>stg import</code> now only recognizes compressed patches by their file
extension (<code>.bz2</code> or <code>.gz</code>) and no longer attempts to decompress using
all known decompressors.</li>
<li><code>stg import</code> support for compressed input files is selectable at
compile time using the <code>import-compressed</code> feature.</li>
<li><code>stg import</code> support for importing from a URL is selectable at compile
time using the <code>import-url</code> feature.</li>
<li><code>stg log</code> now colorizes output by default. The <code>--color</code> option or
<code>NO_COLOR</code> environment variable may be used to affect this behavior.</li>
<li><code>stgit.new.verbose</code> changed to <code>stgit.edit.verbose</code> and now affects edit
behavior for <code>edit</code>, <code>refresh</code>, and <code>squash</code> along with <code>new</code>.</li>
<li><code>stg new</code> now accepts <code>-e/--edit</code> and <code>-d/--diff</code> instead of <code>-v/--verbose</code></li>
<li><code>stg pick</code> now allows a mix of commits and patches to be picked
whereas previously only a single commit xor multiple patches could be
picked.</li>
<li><code>stg pick</code> now performs a single stack transaction for all the picked
patches/commits instead of one transaction per pick.</li>
<li><code>stg rebase --interactive</code> the &ldquo;squash&rdquo; and &ldquo;fixup&rdquo; instructions may
no longer be applied to the first patch in the instruction list. The
stated semantics of both &ldquo;squash&rdquo; and &ldquo;fixup&rdquo; is that they squash the
labeled patch with the preceding patch, which is not possible/valid
when there is no preceding patch.</li>
<li><code>stg refresh</code> no longer has the <code>--spill</code> flag. Use <code>stg spill</code>
instead.</li>
<li>Updated colorized output for <code>stg series</code>.</li>
<li><code>stg series</code> now requires patch range arguments to be both in-order
and contiguous. Constraining patch ranges in this manner ensures that
the output from <code>stg series</code> is always a valid/correct view of a
subset of the series.</li>
<li><code>stg show</code> diff can now be limited to certain paths by specifying path
limits on the command line.</li>
<li><code>stg show</code> diff output respects the <code>--color</code> option.</li>
<li>The new <code>--signoff</code> patch edit option supersedes the deprecated
<code>--sign</code> and <code>--sign-by</code> options. <code>--signoff</code> without its optional
value does the same thing as <code>--sign</code>, while <code>--signoff=&lt;value&gt;</code> does
the same thing as <code>--sign-by=&lt;value&gt;</code>.</li>
<li><code>stg squash</code> now allows the full suite of patch edit options,
including <code>-d/--diff</code>. Previously only a few message-related options
were available.</li>
</ul>
<h3 id="fixed-14">Fixed</h3>
<ul>
<li><code>stg branch --create</code> inherits the current branch&rsquo;s remote branch
configuration, if available. The Python implementation had an apparent
bug that prevented inheriting the remote branch configuration when
creating from the current branch.</li>
</ul>
<h2 id="15-2022-01-28"><a href="https://github.com/stacked-git/stgit/releases/tag/v1.5">[1.5] 2022-01-28</a></h2>
<h3 id="removed-3">Removed</h3>
<h3 id="added-9">Added</h3>
<ul>
<li>Add Makefile targets for installing shell completions</li>
<li><code>stg rebase --interactive</code> learns &lsquo;hide&rsquo; instruction</li>
</ul>
<h3 id="changed-15">Changed</h3>
<ul>
<li>Picked patch names are preserved when possible (<a href="https://github.com/stacked-git/stgit/issues/175">#175</a>)</li>
<li>Replace <code>--unapplied</code> option with <code>--noapply</code> for <code>stg pick</code> (<a href="https://github.com/stacked-git/stgit/issues/174">#174</a>)</li>
<li><code>stg pick --noapply</code> no longer reverses patch order (<a href="https://github.com/stacked-git/stgit/issues/174">#174</a>)</li>
<li>Use <code>stg version</code> uses <code>sys.executable</code> to get Python version.</li>
</ul>
<h3 id="fixed-15">Fixed</h3>
<ul>
<li>Repair <code>stg repair</code> with amended first patch (<a href="https://github.com/stacked-git/stgit/issues/163">#163</a>)</li>
<li>Repair corner cases where invalid patchnames could be generated by
<code>stg new</code>, <code>stg uncommit</code>, etc. (<a href="https://github.com/stacked-git/stgit/issues/176">#176</a>)</li>
<li><code>stg mail</code> could crash due to a misspelled reference (<a href="https://github.com/stacked-git/stgit/issues/178">#178</a>)</li>
<li>Zsh completion for <code>stg refresh -p</code> now completes against all patches
(not just applied patches).</li>
<li>Zsh gains missing completion for <code>stg push --noapply</code></li>
<li>Minor repair to help for <code>stg float --noapply</code> and <code>stg push --noapply</code></li>
<li>Restore <code>stg sink --nopush</code> capability.</li>
</ul>
<h2 id="14-2021-10-27"><a href="https://github.com/stacked-git/stgit/releases/tag/v1.4">[1.4] 2021-10-27</a></h2>
<h3 id="removed-4">Removed</h3>
<ul>
<li>Python 3.5, which became EOL 2020-09-13, support is deprecated and
will be removed in a future StGit release</li>
<li>Python 3.6, which will be EOL 2021-12-23, support is deprecated and
will be removed in a future StGit release</li>
</ul>
<h3 id="added-10">Added</h3>
<ul>
<li>The new <code>stg import --message-id</code> option causes the Message-ID from
imported emails to be included as the Message-Id trailer in the patch
description (<a href="https://github.com/stacked-git/stgit/issues/42">#42</a>)</li>
<li>The new &lsquo;stgit.import.message-id&rsquo; config option also enables the
Message-Id trailer (<a href="https://github.com/stacked-git/stgit/issues/42">#42</a>)</li>
</ul>
<h3 id="changed-16">Changed</h3>
<ul>
<li><code>stg import</code> no longer creates &ldquo;Message-Id&rdquo; trailer by default when
importing patches from email (<a href="https://github.com/stacked-git/stgit/issues/42">#42</a>)</li>
<li>StGit works with Python 3.10</li>
<li><code>stg version</code> prints a more abbreviated Python version</li>
<li><code>stg commit</code> will no longer commit empty patches by default; the
<code>--allow-empty</code> option may be used to override this behavior (<a href="https://github.com/stacked-git/stgit/issues/158">#158</a>)</li>
<li>The <code>stgit.main.main()</code> function now takes an argv parameter and
returns an int return code in most cases instead of calling
sys.exit(), thus making main() a bit easier to use as an API.</li>
</ul>
<h3 id="fixed-16">Fixed</h3>
<ul>
<li>Repair stack upgrade with <code>stg branch --list</code> (<a href="https://github.com/stacked-git/stgit/issues/155">#155</a>)</li>
<li>Repair crash in <code>stg squash</code> with out of order patches and no name
specified (<a href="https://github.com/stacked-git/stgit/issues/157">#157</a>)</li>
<li>Zsh completions learn <code>stg float --noapply</code> option</li>
<li>Zsh completion for <code>stg sink</code> now allows multiple patches</li>
</ul>
<h2 id="13-2021-09-26"><a href="https://github.com/stacked-git/stgit/releases/tag/v1.3">[1.3] 2021-09-26</a></h2>
<h3 id="removed-5">Removed</h3>
<h3 id="added-11">Added</h3>
<h3 id="changed-17">Changed</h3>
<h3 id="fixed-17">Fixed</h3>
<ul>
<li>Repair crash regression when using <code>stgit.autosign</code></li>
</ul>
<h2 id="12-2021-09-26"><a href="https://github.com/stacked-git/stgit/releases/tag/v1.2">[1.2] 2021-09-26</a></h2>
<h3 id="removed-6">Removed</h3>
<h3 id="deprecated">Deprecated</h3>
<ul>
<li>Python 3.5, which became EOL 2020-09-13, support is deprecated and
will be removed in a future StGit release</li>
<li>Python 3.6, which will be EOL 2021-12-23, support is deprecated and
will be removed in a future StGit release</li>
</ul>
<h3 id="added-12">Added</h3>
<ul>
<li><code>stg rebase </code> learns <code>--interactive</code>; easily re-order, edit, squash,
fixup, or delete patches via your editor</li>
<li><code>stg rebase</code> learns <code>--autostash</code>; stash changes before the rebase and
apply them after. Also configurable with the <code>stgit.autostash</code>
configuration option</li>
<li><code>stg edit</code> can now rename patches (<a href="https://github.com/stacked-git/stgit/issues/119">#119</a>)</li>
<li><code>stg edit</code> gains helpful instructions (<a href="https://github.com/stacked-git/stgit/issues/138">#138</a>)</li>
<li><code>stg new</code> learns <code>--verbose</code>, which includes a diff in the editor
window (similar to <code>git commit --verbose</code>). This behavior is also
configurable with the <code>stgit.new.verbose</code> configuration option</li>
<li><code>stg push</code> and <code>stg float</code> learn <code>--noapply</code> option; allows patches
to be reordered without updating worktree and deferring merge conflict
resolution (<a href="https://github.com/stacked-git/stgit/issues/144">#144</a>)</li>
<li><code>stg edit</code>, <code>stg refresh</code>, and <code>stg new</code> learn the <code>--sign-by</code>,
<code>--ack-by</code>, and <code>--review-by</code> options which allow those respective
trailers&rsquo; values to be specified by the user on the command line (<a href="https://github.com/stacked-git/stgit/issues/92">#92</a>)</li>
</ul>
<h3 id="changed-18">Changed</h3>
<ul>
<li>Stack metadata version 5; stack metadata is moved from
<code>refs/heads/&lt;branch&gt;.stgit</code> to <code>refs/stacks/&lt;branch&gt;</code> and the stack
metadata file now uses a JSON format instead of the prior custom
format; the stack metadata will be upgraded to v5 on first use of
this version of StGit; like all stack metadata upgrades, <strong>this is a
one-way auto-upgrade for existing stacks</strong> (<a href="https://github.com/stacked-git/stgit/issues/65">#65</a>)</li>
<li>Use setuptools instead of distutils for packaging</li>
<li>No git or python version checks in setup.py</li>
<li>Use different dynamic versioning system</li>
<li>Install <code>stg</code> executable as console_script entry point</li>
<li>More sophisticated search for bash.exe on Windows when running hooks</li>
<li>The editor window text for <code>stg squash</code> has been modified to mirror
git&rsquo;s behavior &ndash; the squash edit message now includes all commits
(<a href="https://github.com/stacked-git/stgit/issues/71">#71</a>)</li>
<li>Binary diffs are no longer shown when with <code>stg edit -d</code></li>
<li>Multiple trailers can now be added at once; this is now allowed, for
example: <code>stg edit --sign --review --ack</code></li>
<li>Update zsh completion for <code>stg rebase</code> to show local and remote heads
(<a href="https://github.com/stacked-git/stgit/issues/102">#102</a>)</li>
<li>Zsh completions for commands with patch arguments now comprehend the
effect of <code>-b/--branch</code> and <code>-B/--ref-branch</code></li>
<li>Zsh completions now guard patch names&ndash;one less TAB press to complete
patch names in certain contexts</li>
<li><code>stg import</code> now extracts the <code>Message-ID</code> email header into the patch
message (<a href="https://github.com/stacked-git/stgit/issues/42">#42</a>)</li>
</ul>
<h3 id="fixed-18">Fixed</h3>
<ul>
<li>Repair crash when attempting to export empty patch (<a href="https://github.com/stacked-git/stgit/issues/112">#112</a>)</li>
<li>Exact command name matches are unambiguous (<a href="https://github.com/stacked-git/stgit/issues/110">#110</a>)</li>
<li>Exiting with an empty <code>stg edit</code> editor will now abort the edit;
previously it would delete your commit message. (<a href="https://github.com/stacked-git/stgit/issues/138">#138</a>)</li>
<li>Repair completions when stg.series.description is enabled in config</li>
<li>Workaround child process reaping race on Windows (<a href="https://github.com/stacked-git/stgit/issues/78">#78</a>)</li>
<li>Repair crash with <code>stg float --series</code> when bad patch name in series</li>
<li>Repair zsh completion for <code>stg float</code> to accept multiple patch names</li>
<li>Repair zsh completion for changed files, affecting <code>stg refresh</code> and
<code>stg diff</code></li>
</ul>
<h3 id="internal">Internal</h3>
<ul>
<li>Add link to coverage.io project to CONTRIBUTING.md</li>
<li>Set smart <code>exclude_lines</code> default for &lsquo;coverage&rsquo;</li>
<li>Expanded test suite for <code>stg edit</code></li>
<li>Add pkgtest.py script to help test StGit packaging</li>
<li>Cleanup .gitignore files</li>
</ul>
<h2 id="11-2021-04-30"><a href="https://github.com/stacked-git/stgit/releases/tag/v1.1">[1.1] 2021-04-30</a></h2>
<h3 id="removed-7">Removed</h3>
<h3 id="added-13">Added</h3>
<ul>
<li>StGit GPG-signs patches when <code>commit.gpgsign</code> is set (<a href="https://github.com/stacked-git/stgit/issues/12">#12</a>)</li>
<li>Support <code>core.hooksPath</code> in git config</li>
<li>Add <code>-C</code> option for <code>stg import</code> and <code>stg fold</code> (<a href="https://github.com/stacked-git/stgit/issues/18">#18</a>)</li>
</ul>
<h3 id="changed-19">Changed</h3>
<ul>
<li>Allow importing mail and series from urls (<a href="https://github.com/stacked-git/stgit/issues/94">#94</a>)</li>
<li><code>stg refresh --edit</code> may also use <code>--diff</code> and <code>--diff-opts</code> (<a href="https://github.com/stacked-git/stgit/issues/98">#98</a>)</li>
<li><code>stg goto</code> allows sha1 of a patch instead of patch name (<a href="https://github.com/stacked-git/stgit/issues/93">#93</a>)</li>
</ul>
<h3 id="fixed-19">Fixed</h3>
<ul>
<li>Repair hang in <code>stg pull -m</code>, <code>stg goto -m</code>, and <code>stg push -m</code></li>
<li>Repair <code>stg mail</code> to show diffstat of whole series (<a href="https://github.com/stacked-git/stgit/issues/104">#104</a>)</li>
<li>Repair MANIFEST.in to include AUTHORS.md and README.md files</li>
</ul>
<h2 id="10-2021-02-07"><a href="https://github.com/stacked-git/stgit/releases/tag/v1.0">[1.0] 2021-02-07</a></h2>
<h3 id="removed-8">Removed</h3>
<ul>
<li>Drop support for Python &lt; 3.5</li>
<li>Remove previously deprecated <code>stg publish</code> command</li>
<li>Removed contrib scripts: <code>stg-swallow</code>, <code>stg-fold-files-from</code>,
<code>stg-dispatch</code>, <code>stg-whatchanged</code>, and <code>stg-show-old</code></li>
</ul>
<h3 id="added-14">Added</h3>
<ul>
<li>The pre-commit hook is now run for <code>stg refresh</code></li>
<li>New <code>--spill</code> option for <code>stg refresh</code></li>
<li>Add stgit.series.description config option (<a href="https://github.com/stacked-git/stgit/issues/88">#88</a>)</li>
<li>Official support for Python versions up to 3.9</li>
</ul>
<h3 id="changed-20">Changed</h3>
<ul>
<li>Stack metadata format 4. All metadata now kept in Git objects; no more
stack state files in .git/patches. <strong>A one-way auto-upgrade to format
version 4 will occur when StGit commands are run on an existing StGit
branch.</strong></li>
<li>Use <code>python3</code> in shebangs instead of <code>python</code></li>
<li><code>contrib/stgbashprompt.sh</code> is no longer executable</li>
<li>Internal docstrings now use reStructuredText instead of Epytext</li>
</ul>
<h3 id="fixed-20">Fixed</h3>
<ul>
<li>Importing large patches is much, much faster (<a href="https://github.com/stacked-git/stgit/issues/66">#66</a>)</li>
<li>Other performance improvements when dealing with large patches</li>
<li>Repair diffstat when outside work tree root (<a href="https://github.com/stacked-git/stgit/issues/62">#62</a>)</li>
<li>Use encoded (string) environment variables on Windows (<a href="https://github.com/stacked-git/stgit/issues/79">#79</a>)</li>
<li>Fix <code>stg pull</code> when no upstream is configured (<a href="https://github.com/stacked-git/stgit/issues/83">#83</a>)</li>
<li>Fix <code>refresh</code> crash with path limiting and files added to index (<a href="https://github.com/stacked-git/stgit/issues/85">#85</a>)</li>
<li>Repair <code>new</code> with patchdescr.template crash (<a href="https://github.com/stacked-git/stgit/issues/87">#87</a>)</li>
<li>Repair <code>log</code> from worktree subdir with patches specified</li>
<li>Repair <code>import</code> allowing/generating duplicate patch names (<a href="https://github.com/stacked-git/stgit/issues/64">#64</a>)</li>
<li>Repair <code>mail --auto</code> to strip comments after addrs (<a href="https://github.com/stacked-git/stgit/issues/91">#91</a>)</li>
</ul>
<h2 id="023-2020-06-12"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.23">[0.23] 2020-06-12</a></h2>
<h3 id="removed-9">Removed</h3>
<ul>
<li>Drop support for Python 3.3; Python 2 (2.6 and 2.7) remain
deprecated, but supported for one last release</li>
<li>Tutorial is removed; it now exists as part of the website</li>
</ul>
<h3 id="deprecated-1">Deprecated</h3>
<ul>
<li>Python 2.x support is deprecated and will be removed in a future
release</li>
</ul>
<h3 id="added-15">Added</h3>
<ul>
<li>Support html5 output of docs from asciidoc</li>
<li>Add <code>--expose</code> option for <code>stg pick</code> to allow picked commit message to
be customized</li>
</ul>
<h3 id="changed-21">Changed</h3>
<ul>
<li>Limit mail diffstat to 72 columns</li>
<li>Added pyproject.toml file for black configuration</li>
<li>Minimum Git version is 2.2.0</li>
<li>Quote stg and subcommand in man page synopsis</li>
<li>Replaced RELEASENOTES with this CHANGELOG.md</li>
<li>Replaces Documentation/SubmittingPatches with CONTRIBUTING.md</li>
</ul>
<h3 id="fixed-21">Fixed</h3>
<ul>
<li>Repair MANIFEST.in and generated source dist</li>
<li>Repair importing mail with &ldquo;: &quot; (colon space) in subject</li>
<li>Fix mail cover letter shortlog</li>
<li>Fix mail cover letter diffstat</li>
<li><code>stg series</code> now only outputs colors when <code>isatty()</code></li>
<li>Repair mail SSL check (<a href="https://github.com/stacked-git/stgit/issues/57">#57</a>)</li>
<li>Repair <code>stg mail</code> with both <code>-a</code> and <code>-e</code> options (<a href="https://github.com/stacked-git/stgit/issues/58">#58</a>)</li>
<li>Remove empty short-opt for <code>--no-submodules</code> of <code>stg refresh</code></li>
<li>Repair build.py for Python 2 with explicit <code>flush()</code></li>
<li><code>stgit.refreshsubmodules</code> added to sample gitconfig</li>
</ul>
<h3 id="internal-1">Internal</h3>
<ul>
<li>Update docs build system from upstream Git docs</li>
<li>Use coverage contexts to map commands to covered lines</li>
<li>Improve mail tests</li>
<li>Use GitHub Actions instead of TravisCI</li>
<li>Format StGit source using black formatter</li>
</ul>
<h2 id="022---2020-03-02"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.22">[0.22] - 2020-03-02</a></h2>
<h3 id="removed-10">Removed</h3>
<ul>
<li>Remove debian packaging; downstream Debian uses its own anyway</li>
</ul>
<h3 id="deprecated-2">Deprecated</h3>
<ul>
<li>Python 2.x support is deprecated and will be removed in the next StGit
release</li>
<li><code>stg publish</code> is deprecated and will be removed in the next StGit
release</li>
</ul>
<h3 id="added-16">Added</h3>
<ul>
<li><code>stg import</code> has new &ndash;keep-cr option, like <code>git mailsplit</code></li>
</ul>
<h3 id="changed-22">Changed</h3>
<ul>
<li><code>stg new</code> now includes patch name in log message</li>
<li><code>stg branch --rename</code> can now rename the current branch</li>
<li><code>stg branch --create</code> now works even if the workspace is dirty,
consistent with <code>git checkout</code></li>
<li><code>stg branch --description</code> now works on both regular and stgit
branches</li>
<li><code>stg edit --diff</code> now implies <code>--edit</code></li>
<li><code>stg refresh</code> and <code>stg edit</code> now reset the committer information,
consistent with <code>stg push</code></li>
<li>git notes are now preserved when patches are modified</li>
<li>Tutorial improvements</li>
<li>Many additional tests and test improvements</li>
<li>All stgit commands now use &ldquo;new&rdquo; git library infrastructure</li>
</ul>
<h3 id="fixed-22">Fixed</h3>
<ul>
<li><code>stg branch --create</code> inherits remote correctly from parent committish</li>
<li>Patch names are checked earlier to avoid inconsistent stack states</li>
<li>Improved commit data parsing and handling of non-UTF8 encodings</li>
<li>Repair git error messages when checking stgit version from outside a
git repo</li>
</ul>
<h2 id="021---2019-10-28"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.21">[0.21] - 2019-10-28</a></h2>
<h3 id="changed-23">Changed</h3>
<ul>
<li>Faster handling of large patches (<a href="https://github.com/stacked-git/stgit/issues/44">#44</a>)</li>
</ul>
<h3 id="fixed-23">Fixed</h3>
<ul>
<li>Build reproducibility repairs (Thanks reproducible-builds.org team!)</li>
<li>Python can now be run with optimizations (<code>python -O</code>)</li>
<li><code>stg log</code> now prints trailing newline</li>
<li>Improved command line option parsing for <code>stg log</code></li>
</ul>
<h2 id="020---2019-10-04"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.20">[0.20] - 2019-10-04</a></h2>
<h3 id="added-17">Added</h3>
<ul>
<li><code>stg patches -d</code> can now output colored diffs.</li>
<li><code>stg publish --overwrite</code> allows branch to be overwritten instead of
creating new commits.</li>
<li><code>stg log --clear</code> deletes the stack&rsquo;s log history. Use with caution.</li>
<li>Fish shell completions for stg.</li>
<li>Zsh completions for stg.</li>
<li><code>stg mail --domain</code> option overrides the host&rsquo;s domain in the message
ID.</li>
</ul>
<h3 id="changed-24">Changed</h3>
<ul>
<li>Branch protection metadata now captured in config instead of
.git/patches/<!-- raw HTML omitted -->protect file. This updates stgit&rsquo;s metadata
format from v2 to v3.</li>
<li><code>stg diff</code> no longer shows binary diffs by default. Use <code>-O--binary</code>
or add <code>--binary</code> to stgit.diff-opts in config.</li>
<li>Diagnostic output is now routed to stderr instead of stdout.
Diagnostic output is also now sent to stderr unconditionally, i.e. no
more isatty() test (<a href="https://github.com/stacked-git/stgit/issues/35">#35</a>).</li>
<li>Converted to &ldquo;new&rdquo; lib infrastructure: <code>show</code>, <code>patches</code>, <code>diff</code>,
<code>pick</code>, <code>pull</code>, <code>rebase</code>, and <code>fold</code>.</li>
</ul>
<h3 id="fixed-24">Fixed</h3>
<ul>
<li><code>stg show</code> detects conflicting &ndash;applied and &ndash;unapplied options.</li>
<li><code>stg show --stat</code> now shows commit headers.</li>
<li><code>stg patches --diff</code> now shows proper diff instead of <code>b'...'</code> repr of
diff.</li>
<li><code>stg diff --range</code> detects some invalid values (e.g. <code>-r ..</code>).</li>
<li>Date parsing is now more portable, only use platform specific <code>date</code>
as last parsing option. Affects, e.g., <code>stg refresh --authdate</code>.</li>
<li>Repaired search path for templates to avoid looking in Python
site-packages directory.</li>
<li>Ensure stdout and stderr are flushed. Rarely affected <code>stg diff</code>.</li>
<li><code>stg repair</code> will now fail if extra command line arguments are
provided.</li>
<li>Bash completions are now generated in a reproducible manner.</li>
<li><code>stg edit --diff</code> on an empty patch no longer crashes.</li>
<li><code>stg pick</code> no longer fails when picked commit has empty message (<a href="https://github.com/stacked-git/stgit/issues/39">#39</a>).</li>
<li><code>stg rebase</code> no longer crashes when there are conflicts (<a href="https://github.com/stacked-git/stgit/issues/34">#34</a>).</li>
<li><code>stg pick</code> no longer crashes if &ndash;name is not provided when picking a
regular commit object.</li>
<li>Improved test coverage for: branch, diff, pick, sync,</li>
<li>New tests for: files, patches, fold, series</li>
<li>Portable use of iconv, sort, and sed in tests.</li>
<li>Linting using flake8 and isort.</li>
<li>All Python code now conforms to PEP-8.</li>
<li>Updated test infrastructure from git 2.20.</li>
<li>Parallel tests with coverage (<code>make -j4 coverage</code>) now works.</li>
<li>Documentation build is not included in code coverage.</li>
<li>Repaired log end messages when using <code>STGIT_SUBPROCESS_LOG=debug</code>.</li>
<li>Renamed &ldquo;dunder&rdquo; instance attributes to improve debugging.</li>
<li>Fail faster when patch name has slash (&rsquo;/&rsquo;) (<a href="https://github.com/stacked-git/stgit/issues/24">#24</a>).</li>
</ul>
<h2 id="019-2018-11-05"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.19">[0.19] 2018-11-05</a></h2>
<h3 id="changed-25">Changed</h3>
<ul>
<li>Python 3 support. StGit supports Python 2.6, 2.7, 3.3, 3.4, 3.5, 3.6,
and 3.7. PyPy interpreters are also supported.</li>
<li>Submodules are now ignored when checking if working tree is clean.
Submodules are also not included by default when refreshing a patch.</li>
<li>Config booleans are now parsed similarly to git-config.</li>
<li><code>contrib/stgit.el</code> is now licenced with GPLv2.</li>
<li>Add continuous integration (travis-ci) and code coverage (coveralls)
support.</li>
<li>Many new test cases were added.</li>
</ul>
<h3 id="fixed-25">Fixed</h3>
<ul>
<li>Repair handling of emails with utf-8 bodies containing latin-1
characters. Also correctly decode email headers containing quoted
encoded words.</li>
<li>StGit&rsquo;s version is now correct/available in the release archive.</li>
</ul>
<h2 id="018-2017-08-14"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.18">[0.18] 2017-08-14</a></h2>
<h3 id="added-18">Added</h3>
<ul>
<li><code>commit-msg</code> hook support for easier integration with Gerrit, allowing
a Change-Id line to be inserted in the commit message</li>
<li><code>stg mail</code> improvements for &lsquo;Suggested-by:&rsquo; tag and auto generation of
Cc for the cover letter based on all tags in the series</li>
<li><code>stg mail</code> bash completion for the &ndash;to, &ndash;cc and &ndash;bcc options based
on the content of the [mail &ldquo;alias&rdquo;] section of Git configuration</li>
<li><code>stg edit --review</code> option to add a &lsquo;Reviewed-by:&rsquo; tag</li>
<li><code>stg pop --spill</code> functionality to allow popping a patch from the
stack while keeping its modification in the tree</li>
</ul>
<h3 id="changed-26">Changed</h3>
<ul>
<li>Project page details updated (gna.org has been shut down)</li>
</ul>
<h3 id="fixed-26">Fixed</h3>
<ul>
<li>Various fixes and test coverage improvements</li>
</ul>
<h2 id="0171-2013-09-30"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.17.1">[0.17.1] 2013-09-30</a></h2>
<h3 id="changed-27">Changed</h3>
<ul>
<li>Test suite improvements.</li>
<li>Print tracebacks to stderr.</li>
<li>Run test suite in parallel.</li>
</ul>
<h3 id="fixed-27">Fixed</h3>
<ul>
<li>Fix dirty index errors when resolving conflicts.</li>
<li>Fix &ndash;authdate date parsing.</li>
</ul>
<h2 id="017-2013-06-27"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.17">[0.17] 2013-06-27</a></h2>
<h3 id="added-19">Added</h3>
<ul>
<li><code>stg delete --top</code> option for deleting the top patch.</li>
<li><code>stg branch --merge</code> option for merging the work tree changes into the
other branch.</li>
<li>Support for sending patches both as attachment and inline.</li>
</ul>
<h3 id="changed-28">Changed</h3>
<ul>
<li><code>stg mail</code> no longer filters explicitly added <code>--cc</code> sender address.</li>
<li><code>stg refresh</code> warns when index is dirty.</li>
</ul>
<h3 id="fixed-28">Fixed</h3>
<ul>
<li>Fix for parsing the commit header correctly.</li>
<li>Several <code>stgit.el</code> (Emacs mode) improvements.</li>
<li>Fix <code>stg status --reset</code> error messages.</li>
<li>HTML documentation fix.</li>
<li>Email template fixes.</li>
</ul>
<h2 id="016-2012-01-09"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.16">[0.16] 2012-01-09</a></h2>
<h3 id="added-20">Added</h3>
<ul>
<li>UI adjustments to better match the Git commands.
<ul>
<li><code>stg status</code> is an alias for <code>git status</code>.</li>
<li><code>stg reset --hard</code> behaves similarly to the corresponding git
command and option.</li>
</ul>
</li>
<li><code>stg branch --cleanup</code> option to remove the StGit metadata for a
given branch.</li>
<li><code>stg mail</code> can use <code>git send-email</code> directly.</li>
<li>Vim syntax highlighting for StGit commit messages.</li>
</ul>
<h3 id="fixed-29">Fixed</h3>
<ul>
<li>Several improvements to the Emacs mode (stgit.el).</li>
<li>Many bug-fixes.</li>
</ul>
<h2 id="015-2009-10-24"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.15">[0.15] 2009-10-24</a></h2>
<h3 id="removed-11">Removed</h3>
<ul>
<li>The commands &ldquo;stg add&rdquo;, &ldquo;stg rm&rdquo;, &ldquo;stg cp&rdquo;, and &ldquo;stg resolved&rdquo; were
removed, since there are corresponding Git equivalents.</li>
</ul>
<h3 id="added-21">Added</h3>
<ul>
<li>New core infrastructure for repository operations, including:
<ul>
<li>Infinite undo/redo operations and corresponding commands.</li>
<li>Automatic rollback of changes following a failed operation (using
transactions)&mdash;this ensures that StGit commands either succeed or
do nothing. Previously, every commands had its own ad hoc
implementation of this.</li>
</ul>
</li>
<li>Some commands were added, including
<ul>
<li><code>stg squash</code>, for combining two or more patches into one.</li>
<li><code>stg publish</code>, for maintaining merge-friendly branches (which are
not rebased).</li>
<li><code>stg prev/next</code> for printing the name of the previous or next patch
in the series.</li>
</ul>
</li>
<li>The <code>stg import</code> and <code>stg fold</code> commands support the <code>-p N</code> option for
stripping leading slashes from diff paths.</li>
<li>The <code>stg import</code> and <code>stg fold</code> commands support the <code>--reject</code> option
for leaving rejected hunks in corresponding <code>*.rej</code> files.</li>
<li>New patch identification syntax: <code>&lt;branch&gt;:&lt;patch&gt;</code> (see documentation
for the &ldquo;stg id&rdquo; command).</li>
<li>Autosigning of imported patches when <code>sign.autosign</code> configuration
option is set.</li>
<li>A powerful Emacs mode for StGit was added to the &ldquo;contrib&rdquo; directory.
It displays the patch stack in an Emacs buffer, and can handle all
common StGit tasks.</li>
<li>Man pages and an improved tutorial.</li>
</ul>
<h3 id="changed-29">Changed</h3>
<ul>
<li>Improved bash tab-completion, automatically generated from the stg
command definitions.</li>
</ul>
<h2 id="0143-2008-06-08"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.14.3">[0.14.3] 2008-06-08</a></h2>
<h2 id="0142-2008-13-24"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.14.2">[0.14.2] 2008-13-24</a></h2>
<h2 id="0141-2007-12-11"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.14.1">[0.14.1] 2007-12-11</a></h2>
<h2 id="014-2007-12-09"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.14">[0.14] 2007-12-09</a></h2>
<h2 id="013-2007-07-26"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.13">[0.13] 2007-07-26</a></h2>
<h2 id="012-2007-02-06"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.12">[0.12] 2007-02-06</a></h2>
<h2 id="011-2006-10-21"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.11">[0.11] 2006-10-21</a></h2>
<h2 id="010-2006-06-11"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.10">[0.10] 2006-06-11</a></h2>
<h2 id="09-2006-04-07"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.9">[0.9] 2006-04-07</a></h2>
<h2 id="08-2005-12-23"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.8">[0.8] 2005-12-23</a></h2>
<h2 id="07-2005-10-02"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.7">[0.7] 2005-10-02</a></h2>
<h2 id="06-2005-08-21"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.6">[0.6] 2005-08-21</a></h2>
<h2 id="05-2005-07-30"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.5">[0.5] 2005-07-30</a></h2>
<h2 id="04-2005-07-10"><a href="https://github.com/stacked-git/stgit/releases/tag/v0.4">[0.4] 2005-07-10</a></h2>

</main>
<footer>
  <small>&copy; 2023 Stacked Git Authors</small>
</footer>
</div>
        </div>
    </body>
</html>
