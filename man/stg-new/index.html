<!DOCTYPE html>
<html><head>
    <title>
         stg-new(1) &ndash;  Stacked Git
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="stylesheet" href="/css/stgit.css">
    <link rel="stylesheet" href="/css/chroma.css">
</head>
<body>
        <div><header>
  
  <a href="/">
    <img src="/stgit.svg" alt="Stacked Git logo">
  </a>
  
  <h3><a href="/">Stacked Git</a></h3>
  <nav>
    <ul>
      
      <li>
        <a href="/changelog/">
          
          Changelog
          
        </a>
      </li>
      
      <li>
        <a href="/man/">
          
          Man Pages
          
        </a>
      </li>
      
      <li>
        <a href="/guides/">
          
          Guides
          
        </a>
      </li>
      
      <li>
        <a href="/guides/tutorial/">
          
          Tutorial
          
        </a>
      </li>
      
      <li>
        <a href="https://github.com/stacked-git/stgit/">
          
          Repository
          <img src="/github.svg" alt="GitHub logo">
        </a>
      </li>
      
      <li>
        <a href="https://github.com/stacked-git/stgit/issues">
          
          Issue Tracker
          <img src="/github.svg" alt="GitHub logo">
        </a>
      </li>
      
      <li>
        <a href="https://github.com/stacked-git/stgit/releases">
          
          Releases
          <img src="/github.svg" alt="GitHub logo">
        </a>
      </li>
      
      <li>
        <a href="https://groups.google.com/d/forum/stgit">
          
          Forum
          <img src="/ext-link.svg" alt="external link">
        </a>
      </li>
      
    </ul>
  </nav>
</header>
<div>
<main>
  <h2>
    <a href="/man/stg-new/">
      stg-new(1)
    </a>
  </h2>






<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>stg-new - Create a new patch at top of the stack</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>stg new</em> [OPTIONS] [patchname] [-- &lt;path&gt;…​]
<em>stg new</em> [OPTIONS] [--name &lt;patchname&gt;] [-- &lt;path&gt;…​]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create a new, empty patch on the current stack. The new patch is created on top
of the currently applied patches, and is made the new top of the stack.
Uncommitted changes in the work tree are not included in the patch — that is
handled by stg-refresh.</p>
</div>
<div class="paragraph">
<p>The given patch name must be unique in the stack. If no name is given, one is
generated from the first line of the patch’s commit message.</p>
</div>
<div class="paragraph">
<p>Patch names follow the rules for Git references with the additional constraint
that patch names may not contain the <em>/</em> character. See
<a href="https://git-scm.com/docs/git-check-ref-format">git-check-ref-format(1)</a> for details.</p>
</div>
<div class="paragraph">
<p>Patch names may start with a leading <em>-</em>. When specifying such a patch name on
the command line, the leading <em>-</em> may be escaped with a single backslash as in
<em>\-patch-name</em> to disambiguate the patch name from command line options.</p>
</div>
<div class="paragraph">
<p>An editor will be launched to edit the commit message to be used for the patch,
unless the <em>--message</em> flag already specified one. The <em>patchdescr.tmpl</em>
template file (if available) is used to pre-fill the editor.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options">OPTIONS</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">-n &lt;name&gt;</dt>
<dt class="hdlist1">--name=&lt;name&gt;</dt>
<dd>
<p>Alternative to the [patchname] argument for specifying the name of the new
patch. This option allows the patch name to start with an unescaped leading <em>-</em>.</p>
</dd>
<dt class="hdlist1">-r</dt>
<dt class="hdlist1">--refresh</dt>
<dd>
<p>Refresh the new patch with changes from work tree. New patches are empty by
default, but with this option the new patch will capture outstanding
changes in the work tree as if <a href="/man/stg-refresh">stg refresh</a> was run. Use <em>--index</em> to
refresh from the index instead of the work tree.</p>
</dd>
<dt class="hdlist1">-i</dt>
<dt class="hdlist1">--index</dt>
<dd>
<p>Instead of refreshing the patch with the current contents of the worktree,
use the current contents of the index.</p>
</dd>
<dt class="hdlist1">-F</dt>
<dt class="hdlist1">--force</dt>
<dd>
<p>Force refresh with staged and unstaged changes.</p>
<div class="paragraph">
<p>By default, if there are staged changes in the index along with unstaged
changes in the work tree, the command will abort. This option forces the
command to proceed using both the staged and unstaged changes.</p>
</div>
</dd>
<dt class="hdlist1">--submodules</dt>
<dd>
<p>Include submodules in patch content</p>
</dd>
<dt class="hdlist1">--no-submodules</dt>
<dd>
<p>Exclude submodules in patch content</p>
</dd>
<dt class="hdlist1">-e</dt>
<dt class="hdlist1">--edit</dt>
<dd>
<p>Invoke editor for patch description</p>
</dd>
<dt class="hdlist1">-d</dt>
<dt class="hdlist1">--diff</dt>
<dd>
<p>Show diff when editing patch description</p>
</dd>
<dt class="hdlist1">-m &lt;message&gt;</dt>
<dt class="hdlist1">--message=&lt;message&gt;</dt>
<dd>
<p>Use message instead of invoking the editor</p>
</dd>
<dt class="hdlist1">-f &lt;path&gt;</dt>
<dt class="hdlist1">--file=&lt;path&gt;</dt>
<dd>
<p>Use the contents of file instead of invoking the editor. Use &#34;-&#34; to read
from stdin.</p>
</dd>
<dt class="hdlist1">--no-verify</dt>
<dd>
<p>Disable commit-msg hook</p>
</dd>
<dt class="hdlist1">-s[=&lt;value&gt;]</dt>
<dt class="hdlist1">--signoff[=&lt;value&gt;]</dt>
<dd>
<p>Add &#34;Signed-off-by&#34; message trailer.</p>
<div class="paragraph">
<p>The value is optional and defaults to the committer name and email. This option
may be provided multiple times.</p>
</div>
</dd>
<dt class="hdlist1">--ack[=&lt;value&gt;]</dt>
<dd>
<p>Add &#34;Acked-by&#34; message trailer.</p>
<div class="paragraph">
<p>The value is optional and defaults to the committer’s name and email. This
option may be provided multiple times.</p>
</div>
</dd>
<dt class="hdlist1">--review[=&lt;value&gt;]</dt>
<dd>
<p>Add &#34;Reviewed-by&#34; message trailer.</p>
<div class="paragraph">
<p>The value is optional and defaults to the committer’s name and email. This
option may be provided multiple times.</p>
</div>
</dd>
<dt class="hdlist1">--author=&lt;name-and-email&gt;</dt>
<dd>
<p>Set the author &#34;name &lt;email&gt;&#34;</p>
</dd>
<dt class="hdlist1">--authname=&lt;name&gt;</dt>
<dd>
<p>Set the author name</p>
</dd>
<dt class="hdlist1">--authemail=&lt;email&gt;</dt>
<dd>
<p>Set the author email</p>
</dd>
<dt class="hdlist1">--authdate=&lt;date&gt;</dt>
<dd>
<p>Set the date the patch was authored.</p>
<div class="paragraph">
<p>Use &#34;now&#34; to use the current time and date.</p>
</div>
</dd>
<dt class="hdlist1">--committer-date-is-author-date</dt>
<dd>
<p>Instead of using the current time as the committer date, use the author
date of the commit as the committer date.</p>
</dd>
<dt class="hdlist1">--save-template=&lt;file&gt;</dt>
<dd>
<p>Instead of running the command, just write the patch description to FILE,
and exit. (If FILE is &#34;-&#34;, write to stdout.)</p>
<div class="paragraph">
<p>When driving StGit from another program, it may be useful to first call a
command with <em>--save-template</em>, then let the user edit the message, and then
call the same command with <em>--file</em>.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stgit">StGit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Part of the StGit suite - see <a href="/man/stg">stg(1)</a></p>
</div>
</div>
</div>

</main>
<footer>
  <small>&copy; 2025 Stacked Git Authors</small>
</footer>
</div>
        </div>
    </body>
</html>
