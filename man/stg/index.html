<!DOCTYPE html>
<html><head>
    <title>
         stg(1) &ndash;  Stacked Git
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="stylesheet" href="/css/stgit.css">
    <link rel="stylesheet" href="/css/chroma.css">
</head>
<body>
        <div><header>
  
  <a href="/">
    <img src="/stgit.svg" alt="Stacked Git logo">
  </a>
  
  <h3><a href="/">Stacked Git</a></h3>
  <nav>
    <ul>
      
      <li>
        <a href="/changelog/">
          
          Changelog
          
        </a>
      </li>
      
      <li>
        <a href="/man/">
          
          Man Pages
          
        </a>
      </li>
      
      <li>
        <a href="/guides/">
          
          Guides
          
        </a>
      </li>
      
      <li>
        <a href="/guides/tutorial/">
          
          Tutorial
          
        </a>
      </li>
      
      <li>
        <a href="https://github.com/stacked-git/stgit/">
          
          Repository
          <img src="/github.svg" alt="GitHub logo">
        </a>
      </li>
      
      <li>
        <a href="https://github.com/stacked-git/stgit/issues">
          
          Issue Tracker
          <img src="/github.svg" alt="GitHub logo">
        </a>
      </li>
      
      <li>
        <a href="https://github.com/stacked-git/stgit/releases">
          
          Releases
          <img src="/github.svg" alt="GitHub logo">
        </a>
      </li>
      
      <li>
        <a href="https://groups.google.com/d/forum/stgit">
          
          Forum
          <img src="/ext-link.svg" alt="external link">
        </a>
      </li>
      
    </ul>
  </nav>
</header>
<div>
<main>
  <h2>
    <a href="/man/stg/">
      stg(1)
    </a>
  </h2>






<div class="sect1">
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>stg - Manage stacks of patches using the Git content tracker</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>stg</em> [OPTIONS] &lt;command&gt; […​]
<em>stg</em> [OPTIONS] &lt;-h|--help&gt;
<em>stg</em> --version</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>StGit (Stacked Git) is an application that provides a convenient way
to maintain a <em>patch stack</em> on top of a Git branch:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The topmost (most recent) commits of a branch are given names.
Such a named commit is called a <em>patch</em>.</p>
</li>
<li>
<p>After making changes to the worktree, you can incorporate the
changes into an existing patch; this is called <em>refreshing</em>. You
may refresh any patch, not just the topmost one.</p>
</li>
<li>
<p>You can <em>pop</em> a patch: temporarily putting it aside, so that the
patch below it becomes the topmost patch. Later you may <em>push</em> it
onto the stack again. Pushing and popping can be used to reorder
patches.</p>
</li>
<li>
<p>You can easily <em>rebase</em> your patch stack on top of any other Git
commit. (The <em>base</em> of a patch stack is the most recent Git commit
that is not an StGit patch.) For example, if you started making
patches on top of someone else’s branch, and that person publishes
an updated branch, you can take all your patches and apply them on
top of the updated branch.</p>
</li>
<li>
<p>As you would expect, changing what is below a patch can cause that
patch to no longer apply cleanly — this can occur when you
reorder patches, rebase patches, or refresh a non-topmost patch.
StGit uses Git’s rename-aware three-way merge capability to
automatically fix up what it can; if it still fails, it lets you
manually resolve the conflict just like you would resolve a merge
conflict in Git.</p>
</li>
<li>
<p>The patch stack is just some extra metadata attached to regular
Git commits, so you can continue to use most Git tools along with
StGit.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_typical_uses">Typical uses</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Tracking branch</dt>
<dd>
<p>Tracking changes from a remote branch, while maintaining local
modifications against that branch, possibly with the intent of
sending some patches upstream. You can modify your patch stack as
much as you want, and when your patches are finally accepted
upstream, the permanent recorded Git history will contain just the
final sequence of patches, and not the messy sequence of edits that
produced them.</p>
<div class="paragraph">
<p>Commands of interest in this workflow are e.g. <a href="/man/stg-rebase">rebase</a> and
<a href="/man/stg-mail">mail</a>.</p>
</div>
</dd>
<dt class="hdlist1">Development branch</dt>
<dd>
<p>Even if you have no &#34;upstream&#34; to send patches to, you can use StGit
as a convenient way to modify the recent history of a Git branch.
For example, instead of first committing change <em>A</em>, then change
<em>B</em>, and then <em>A2</em> to fix <em>A</em> because it wasn’t quite right, you
could incorporate the fix directly into <em>A</em>. This way of working
results in a much more readable Git history than if you had
immortalized every misstep you made on your way to the right
solution.</p>
<div class="paragraph">
<p>Commands of interest in this workflow are e.g. <a href="/man/stg-uncommit">uncommit</a>,
which can be used to move the patch stack base downwards — i.e., turn
Git commits into StGit patches after the fact — and
<a href="/man/stg-commit">commit</a>, its inverse.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For more information, see the
<a href="https://stacked-git.github.io/guides/tutorial">tutorial</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_specifying_patches">Specifying patches</h3>
<div class="paragraph">
<p>Most StGit commands have patch arguments. Patches in the stack may
be specified in a variety of ways. A patch in the current branch may
simply referred to by its name, or, alternatively, be located by a
relative offset from the topmost patch (e.g. <code>+3</code>), as an
absolute index into the stack (e.g. <code>7</code>), or as an offset from the
last visible patch (e.g. <code>^1</code>).</p>
</div>
<div class="paragraph">
<p>Some commands allow you to specify a patch in another branch of the
repository; this is done by prefixing the patch name with the branch
name and a colon (e.g. <code>otherbranch:thatpatch</code>).</p>
</div>
<div class="paragraph">
<p>Commands that take multiple patch arguments may be supplied with patch
ranges of the form <code>patch1..patchN</code> as an alternative to specifying
each patch individually. For example, <code>stg delete p0..p4</code> would be
equivalent to <code>stg delete p0 p1 p2 p3 p4</code>. Patch ranges may be open
on either or both ends. For example, <code>stg delete ..p2</code> would delete
the first applied patch up to and including patch <code>p2</code>. Alternatively,
<code>stg delete p2..</code> would delete patch <code>p2</code> up to and including the
topmost applied patch. And <code>stg delete ..</code> would delete all applied
patches.</p>
</div>
<div class="paragraph">
<p>The complete syntax for locating patches follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>&lt;patchname&gt;</em>, e.g. <em>patch</em></dt>
<dd>
<p>The name of a patch.</p>
</dd>
<dt class="hdlist1"><em>@</em></dt>
<dd>
<p>Refers to the topmost applied patch, or the base of the stack if no
patches are applied.</p>
</dd>
<dt class="hdlist1"><em>[&lt;patchname&gt;]~[&lt;n&gt;]</em>, e.g. <em>~2</em>, <em>patch~</em>, <em>patch~3</em></dt>
<dd>
<p>The &lt;n&gt;th previous patch from the named patch. If &lt;patchname&gt; is not
supplied, <em>@</em> is implied. A single <em>~</em> represents the first
previous patch. Multiple <em>~</em> may be specified, e.g.
<em>patch~~~</em> is the same as <em>patch~3</em>. This is
similar to git’s revision syntax where <em>&lt;rev&gt;~[&lt;n&gt;]</em> means the &lt;n&gt;th
ancestor commit from &lt;rev&gt; following first parents.</p>
</dd>
<dt class="hdlist1"><em>[&lt;patchname&gt;]+[&lt;n&gt;]</em>, e.g. <em>+</em>, <em>+3</em>, <em>patch+</em>, <em>patch+3</em></dt>
<dd>
<p>The &lt;n&gt;th next patch from the named patch. If &lt;patchname&gt; is not
supplied, <em>@</em> is implied. A single <em>+</em> represents the next
patch in the series. Multiple <em>+</em> may be specified, e.g.
<em>patch+++</em> is the same as <em>patch+3</em>.</p>
</dd>
<dt class="hdlist1"><em>-[&lt;n&gt;]</em>, e.g. <em>-3</em>, <em>-</em></dt>
<dd>
<p>References the &lt;n&gt;th previously applied patch. This is similar to
<em>~&lt;n&gt;</em>, except it is only valid without a patch name prefix. Note
that certain commands with other options taking numeric values may
require escaping <em>-</em> with <em>\-</em>, e.g. <em>\-10</em>.</p>
</dd>
<dt class="hdlist1"><em>&lt;n&gt;</em>, e.g. <em>3</em></dt>
<dd>
<p>The patch at absolute index &lt;n&gt; in the stack. This is a zero-based
index, so <em>0</em> refers to the bottommost patch in the stack.</p>
</dd>
<dt class="hdlist1"><em>^[&lt;n&gt;]</em>, e.g. <em>^</em>, <em>^3</em></dt>
<dd>
<p>The patch at offset &lt;n&gt; from the last visible patch in the stack.
This is a zero-based offset, so <em>^0</em> refers to the last
visible patch in the stack, which is equivalent to just
<em>^</em>. Negative values of &lt;n&gt; are allowed and refer to hidden
patches which are after the last visible patch in the stack.</p>
</dd>
<dt class="hdlist1"><em>{base}+[&lt;n&gt;]</em>, e.g. <em>{base}+</em>, <em>{base}+3</em></dt>
<dd>
<p>The patch at offset &lt;n&gt; from the stack’s base commit. Since the
stack base is not a commit, a positive offset is required.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Take note that numeric patch locations of the form <em>&lt;n&gt;</em>, <em>-&lt;n&gt;</em>, and
<em>+&lt;n&gt;</em>, e.g. <em>3</em>, <em>-3</em>, or <em>+3</em> are also valid patch names. I.e. it is
possible (but not recommended) to name a patch, for example, &#34;-3&#34;. In
the case where a patch name could also be interpreted as a numeric
index or offset, the literal patch name will take precidence when
resolving the patch location.</p>
</div>
</div>
<div class="sect2">
<h3 id="_specifying_commits">Specifying commits</h3>
<div class="paragraph">
<p>Some StGit commands take Git commits as arguments. StGit accepts all
revision specifications that Git does (see <a href="https://git-scm.com/docs/gitrevisions">gitrevisions(7)</a>);
and additionally, the patch specifiers from above. The usual Git
modifiers, including ^, are also allowed; e.g.
<code>some-branch:a-patch^^</code> refers to the grandparent of the commit that
is patch <code>a-patch</code> on branch <code>some-branch</code>.</p>
</div>
<div class="paragraph">
<p>If you need to pass a given StGit reference to a Git command,
<a href="/man/stg-id">stg id</a> will convert it to a Git commit id for you.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options">OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following generic option flags are available. Additional options
are available for (and documented with) the different subcommands.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">--version</dt>
<dd>
<p>Print version information</p>
</dd>
<dt class="hdlist1">--help</dt>
<dd>
<p>Print help information.</p>
</dd>
<dt class="hdlist1">-C</dt>
<dd>
<p>Run as if stg was started in <em>&lt;path&gt;</em> instead of the current working
directory. When multiple <code>-C</code> options are given, each subsequent
non-absolute <code>-C &lt;path&gt;</code> is interpreted relative to the preceding
<code>-C &lt;path&gt;</code>.</p>
<div class="paragraph">
<p>This option affects arguments that expect path names or path specs in
that their interpretations of the path names would be made relative to
the working directory caused by the <code>-C</code> option.</p>
</div>
</dd>
<dt class="hdlist1">--color &lt;when&gt;</dt>
<dd>
<p>Specify when to colorize the output.</p>
<div class="paragraph">
<p><code>auto</code> (the default) enables colored output only when outputting to a
terminal or TTY. The <code>NO_COLOR</code> environment variable is respected.</p>
</div>
<div class="paragraph">
<p><code>always</code> and <code>never</code> unconditionlly enable/disable colored output,
respectively.</p>
</div>
<div class="paragraph">
<p><code>ansi</code> forces color to be output using ANSI escape sequences, even in
a Windows console.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stgit_commands">STGIT COMMANDS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We divide StGit commands in thematic groups, according to the primary
type of object they create or change.</p>
</div>
<div class="sect2">
<h3 id="_patch_inspection">Patch Inspection</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="/man/stg-diff">stg diff</a></dt>
<dd>
<p>Show a diff</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-files">stg files</a></dt>
<dd>
<p>Show files modified by a patch</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-id">stg id</a></dt>
<dd>
<p>Print git hash of a StGit revision</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-log">stg log</a></dt>
<dd>
<p>Display or optionally clear the stack changelog</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-name">stg name</a></dt>
<dd>
<p>Print patch name of a StGit revision</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-show">stg show</a></dt>
<dd>
<p>Show patch commits</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_patch_manipulation">Patch Manipulation</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="/man/stg-edit">stg edit</a></dt>
<dd>
<p>Edit a patch</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-fold">stg fold</a></dt>
<dd>
<p>Fold diff file into the current patch</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-new">stg new</a></dt>
<dd>
<p>Create a new patch at top of the stack</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-refresh">stg refresh</a></dt>
<dd>
<p>Incorporate worktree changes into current patch</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-rename">stg rename</a></dt>
<dd>
<p>Rename a patch</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-spill">stg spill</a></dt>
<dd>
<p>Spill changes from the topmost patch</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-sync">stg sync</a></dt>
<dd>
<p>Synchronize patches with a branch or a series</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_stack_inspection">Stack Inspection</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="/man/stg-email">stg email</a></dt>
<dd>
<p>Format and send patches as email</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-export">stg export</a></dt>
<dd>
<p>Export patches to a directory</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-next">stg next</a></dt>
<dd>
<p>Print the name of the next patch</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-patches">stg patches</a></dt>
<dd>
<p>Show patches that modify files</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-prev">stg prev</a></dt>
<dd>
<p>Print the name of the previous patch</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-series">stg series</a></dt>
<dd>
<p>Display the patch series</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-top">stg top</a></dt>
<dd>
<p>Print the name of the top patch</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_stack_manipulation">Stack Manipulation</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="/man/stg-branch">stg branch</a></dt>
<dd>
<p>Branch operations: switch, list, create, rename, delete, …​</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-clean">stg clean</a></dt>
<dd>
<p>Delete empty patches from the series</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-commit">stg commit</a></dt>
<dd>
<p>Finalize patches to the stack base</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-delete">stg delete</a></dt>
<dd>
<p>Delete patches</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-float">stg float</a></dt>
<dd>
<p>Push patches to the top, even if applied</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-goto">stg goto</a></dt>
<dd>
<p>Go to patch by pushing or popping as necessary</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-hide">stg hide</a></dt>
<dd>
<p>Hide patches in the series</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-import">stg import</a></dt>
<dd>
<p>Import patches to stack</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-init">stg init</a></dt>
<dd>
<p>Initialize a StGit stack on a branch</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-pick">stg pick</a></dt>
<dd>
<p>Import a patch from another branch or a commit object</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-pop">stg pop</a></dt>
<dd>
<p>Pop (unapply) one or more applied patches</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-pull">stg pull</a></dt>
<dd>
<p>Pull changes from a remote repository</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-push">stg push</a></dt>
<dd>
<p>Push (apply) one or more unapplied patches</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-rebase">stg rebase</a></dt>
<dd>
<p>Move the stack base to another point in history</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-redo">stg redo</a></dt>
<dd>
<p>Undo the last undo operation</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-repair">stg repair</a></dt>
<dd>
<p>Repair stack after branch is modified with git commands</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-reset">stg reset</a></dt>
<dd>
<p>Reset the patch stack to an earlier state</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-sink">stg sink</a></dt>
<dd>
<p>Move patches deeper in the stack</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-squash">stg squash</a></dt>
<dd>
<p>Squash two or more patches into one</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-uncommit">stg uncommit</a></dt>
<dd>
<p>Convert regular Git commits into StGit patches</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-undo">stg undo</a></dt>
<dd>
<p>Undo the last command</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-unhide">stg unhide</a></dt>
<dd>
<p>Unhide hidden patches</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_administration">Administration</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="/man/stg-completion">stg completion</a></dt>
<dd>
<p>Support for shell completions</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-help">stg help</a></dt>
<dd>
<p>Print this message or the help of the given subcommand(s)</p>
</dd>
<dt class="hdlist1"><a href="/man/stg-version">stg version</a></dt>
<dd>
<p>Print version information and exit</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration_mechanism">CONFIGURATION MECHANISM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>StGit uses the same configuration mechanism as Git. See <a href="https://git-scm.com/docs/git-config">git-config(1)</a>
for more details.</p>
</div>
<div class="sect2">
<h3 id="_variables">Variables</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">branch.&lt;name&gt;.stgit.autostash</dt>
<dt class="hdlist1">branch.&lt;name&gt;.stgit.fetchcmd</dt>
<dt class="hdlist1">branch.&lt;name&gt;.stgit.pull-policy</dt>
<dt class="hdlist1">branch.&lt;name&gt;.stgit.pullcmd</dt>
<dt class="hdlist1">branch.&lt;name&gt;.stgit.rebasecmd</dt>
<dd>
<p>Branch-specific configuration values. These take precedence over the corresponding
non-branch specific configuration values (see below).</p>
</dd>
<dt class="hdlist1">branch.&lt;name&gt;.stgit.parentbranch</dt>
<dd>
<p>Specifies the parent branch of a branch with a StGit stack. This value is set by
<a href="/man/stg-branch">stg branch</a> when creating or cloning branches, and not typically set by the user.
The parent branch is used by <a href="/man/stg-pull">stg pull</a> when <em>stgit.pull-policy</em> is either
<em>rebase</em> or <em>fetch-rebase</em> to determine the target of the rebase.</p>
</dd>
<dt class="hdlist1">stgit.alias.*</dt>
<dd>
<p>Command aliases for <em>stg</em>. For example, after defining <code>stgit.alias.list = series -d</code>,
running <code>stg list</code> is equivalent to <code>stg series -d</code>. Arguments are split by spaces and
the usual shell quoting and escaping is supported. A quote pair or backslash may be
used to quote them.</p>
<div class="paragraph">
<p>If the alias expansion is prefixed with an exclamation point (<code>!</code>), it will be treated
as a shell command. For example, defining <code>stgit.alias.outgoing = !git log @{u}</code>,
running <code>stg outgoing</code> is equivalent to running the shell command <code>git log @{u}</code>. Note
that shell commands will be executed from the top-level directory of the working tree,
which may not necessarily be the current directory. <code>GIT_PREFIX</code> is set as returned by
running <code>git rev-parse --show-prefix</code> from the original current directory. See
<a href="https://git-scm.com/docs/git-rev-parse">git-rev-parse(1)</a>.</p>
</div>
<div class="paragraph">
<p>Aliases that would hide existing StGit commands are ignored.</p>
</div>
</dd>
<dt class="hdlist1">stgit.autoimerge</dt>
<dd>
<p>When set to <em>true</em>, if conflicts occur when pushing a patch, <a href="https://git-scm.com/docs/git-mergetool">git-mergetool(1)</a>
is automatically run to attempt to resolve the conflicts.</p>
</dd>
<dt class="hdlist1">stgit.autosign</dt>
<dd>
<p>Automatically add signoff trailer to commit messages for new patches created
with <a href="/man/stg-new">stg new</a> or lingstg:import[]. The value of this configuration
variable will be used as the key of the trailer and therefore should be set
to something like <em>Signed-off-by</em>.</p>
</dd>
<dt class="hdlist1">stgit.autostash</dt>
<dd>
<p>When running <a href="/man/stg-rebase">stg rebase</a>, if any modified files are found in the working tree, a
temporary stash is created with <a href="https://git-scm.com/docs/git-stash">git-stash(1)</a> before the operation begins and
is applied after the operation completes.</p>
</dd>
<dt class="hdlist1">stgit.diff-opts</dt>
<dd>
<p>Options to pass-through to <code>git diff-tree</code> for <a href="/man/stg-diff">stg diff</a>, <a href="/man/stg-export">stg export</a>,
<a href="/man/stg-patches">stg patches</a>, and <a href="/man/stg-show">stg show</a>. Multiple space-separated options may be
specified. See <a href="https://git-scm.com/docs/git-diff-tree">git-diff-tree(1)</a> for information about the various available
options.</p>
</dd>
<dt class="hdlist1">stgit.edit.verbose</dt>
<dd>
<p>When set to <em>true</em>, the patch’s diff will be shown when interactively editing a patch
description with, for example, <a href="/man/stg-edit">stg edit</a>.</p>
</dd>
<dt class="hdlist1">stgit.editor</dt>
<dd>
<p>Commands such as <a href="/man/stg-edit">stg edit</a> and <a href="/man/stg-new">stg new</a> open an editor to edit the patch
description and commit message. The editor set by this variable is launched when the
<em>GIT_EDITOR</em> environment variable is not set. This variable takes precedence over the
<code>core.editor</code> configuration variable as well as the <em>VISUAL</em> and <em>EDITOR</em> environment
variables.</p>
</dd>
<dt class="hdlist1">stgit.fetchcmd</dt>
<dd>
<p>The command specified by this variable will be run by <a href="/man/stg-pull">stg pull</a> to fetch from the
remote repository when <em>stgit.pull-policy</em> is <em>fetch-rebase</em>. When not set, the
default command is <code>git fetch</code>.</p>
</dd>
<dt class="hdlist1">stgit.gpgsign</dt>
<dd>
<p>A boolean to specify whether StGit stack metadata commits should be GPG signed.</p>
<div class="paragraph">
<p>N.B. Set <em>commit.gpgsign</em> to determine whether patch commits themselves are GPG signed.
See <a href="https://git-scm.com/docs/git-config">git-config(1)</a> for more information about <em>commit.gpgsign</em>.</p>
</div>
</dd>
<dt class="hdlist1">stgit.import.message-id</dt>
<dd>
<p>When set to <em>true</em>, create <em>Message-ID:</em> trailer in the patch description of patches
imported from email using <a href="/man/stg-import">stg import</a>.</p>
</dd>
<dt class="hdlist1">stgit.keepoptimized</dt>
<dd>
<p>When set to <em>true</em>, after pulling changes with <a href="/man/stg-pull">stg pull</a>, the repository’s object
database will be optimized by running <a href="https://git-scm.com/docs/git-repack">git-repack(1)</a>.</p>
</dd>
<dt class="hdlist1">stgit.namelength</dt>
<dd>
<p>An integer used to determine the maximum length, in characters, of automatically
generated patch names. The default value is <em>30</em>. This option does not affect
user-specified patch names. Setting to a value less than or equal to <em>0</em> will allow
automatically generated patch names of unlimited length.</p>
<div class="paragraph">
<p>Automatically generated patch names are truncated at word boundaries less than or equal
to the value of <em>stgit.namelength</em>. As a result, patch names will typically not be
truncated at exactly this number of characters. It is also possible for automatically
generated patch names to be longer than this value if a work boundary cannot be found
within this bound, or if additional characters need to be added to the patch name to
make it unique.</p>
</div>
</dd>
<dt class="hdlist1">stgit.pick.expose-format</dt>
<dd>
<p>Format of the commit message for patches picked using the <em>--expose</em> option with
<a href="/man/stg-pick">stg pick</a>. The value of this option is as may be specified to the <em>--pretty</em>
option of <a href="https://git-scm.com/docs/git-show">git-show(1)</a>. The default is <em>format:%B%n(imported from commit %H)</em>.</p>
</dd>
<dt class="hdlist1">stgit.pull-policy</dt>
<dd>
<p>Policy used by <a href="/man/stg-pull">stg pull</a> for pulling changes from a remote repository. Valid
values include:</p>
<div class="ulist">
<ul>
<li>
<p><code>pull</code>, the default, uses <a href="https://git-scm.com/docs/git-pull">git-pull(1)</a> or <em>stgit.pullcmd</em>, if set, to pull
changes from the remote repository.</p>
</li>
<li>
<p><code>rebase</code> uses <a href="https://git-scm.com/docs/git-reset">git-reset(1)</a> or <em>stgit.rebasecmd</em>, if set, to rebase the patch
stack before reapplying patches.</p>
</li>
<li>
<p><code>fetch-rebase</code> first fetches commits from the remote repository using
<a href="https://git-scm.com/docs/git-fetch">git-fetch(1)</a> or <em>stgit.fetchcmd</em>, if set, before performing the rebase as
described above.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">stgit.pullcmd</dt>
<dd>
<p>The command to be run by <a href="/man/stg-pull">stg pull</a> to pull changes from the remote repository
when <em>stgit.pull-policy</em> is <em>pull</em> (the default). The default value is <code>git pull</code>.</p>
</dd>
<dt class="hdlist1">stgit.push.allow-conflicts</dt>
<dd>
<p>A boolean to specify whether <a href="/man/stg-push">stg push</a> and other commands that push patches will
push patches that may result in merge conflicts. The default is <em>true</em>, which means
that a patch with conflicts will be pushed and if the conflicts cannot be
automatically resolved, the operation will stop and with the conflicts left to be
resolved manually.</p>
<div class="paragraph">
<p>When set to <em>false</em>, a patch that would have merge conflicts will not be pushed, thus
leaving the stack on the last patch that could be pushed without conflicts.</p>
</div>
<div class="paragraph">
<p>This configuration variable may be overridden on the command line with either
<code>--conflicts[=allow]</code> or <code>--conflicts=disallow</code>.</p>
</div>
<div class="paragraph">
<p>N.B.: <em>stgit.autoimerge</em> only has an affect when push conflicts are allowed.</p>
</div>
</dd>
<dt class="hdlist1">stgit.rebasecmd</dt>
<dd>
<p>The command to be run by <a href="/man/stg-pull">stg pull</a> to set the new stack base when
<em>stgit.pull-policy</em> is either <em>rebase</em> or <em>fetch-rebase</em>. The default is <code>git reset
--hard</code>.</p>
</dd>
<dt class="hdlist1">stgit.refreshsubmodules</dt>
<dd>
<p>A boolean to specify whether <a href="/man/stg-refresh">stg refresh</a> includes submodules in patch content.
This value may be overridden by the <em>--submodules</em> or <em>--no-submodules</em> option to
<a href="/man/stg-refresh">stg refresh</a>. By default, submodule content is not included in patch content.</p>
</dd>
<dt class="hdlist1">stgit.shortnr</dt>
<dd>
<p>The number of patches listed by <a href="/man/stg-series">stg series</a> when the <em>-s</em>/<em>--short</em> option is
specified. Defaults to <em>5</em>.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_templates">TEMPLATES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A number of StGit commands make use of template files to provide
useful default texts to be edited by the user. These <code>&lt;name&gt;.tmpl</code>
template files are searched in the following directories:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>$GITDIR/</code> (in practice, the <code>.git/</code> directory in your repository)</p>
</li>
<li>
<p><code>$XDG_CONFIG_HOME/stgit/templates/</code></p>
</li>
<li>
<p><code>$HOME/.stgit/templates/</code></p>
</li>
</ol>
</div>
</div>
</div>

</main>
<footer>
  <small>&copy; 2025 Stacked Git Authors</small>
</footer>
</div>
        </div>
    </body>
</html>
